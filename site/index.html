<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>MedorCoin ‚Äî Home</title>
  <meta name="description" content="MedorCoin ‚Äî HomePage, Miners, Developers, Crypto Trading, Learn, and more."/>
  <style>
    :root{
      --bg:#f6f8fb; --ink:#0f172a; --muted:#64748b; --primary:#1d4ed8; --accent:#06b6d4;
      --card:#ffffff; --border:#e5e7eb; --tab:#e2e8f0; --pill:#eef2ff;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    a{color:var(--primary);text-decoration:none} a:hover{text-decoration:underline}
    .container{max-width:980px;margin:0 auto;padding:12px}
    .row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .space{justify-content:space-between}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px}
    .logo{display:flex;align-items:center;gap:8px}
    .logo img{height:32px;width:32px;border-radius:8px;object-fit:cover}
    .brand{font-weight:700}
    .searchbar{display:flex;align-items:center;gap:8px;background:#fff;border:1px solid var(--border);border-radius:999px;padding:10px 12px;margin-top:8px}
    .searchbar input{border:0;outline:0;flex:1;font-size:14px}
    .pill{font-size:11px;background:var(--pill);color:#4338ca;border-radius:999px;padding:4px 8px}
    .tabs{display:flex;gap:10px;overflow:auto;padding:8px 0;margin-top:8px}
    .tab{display:flex;align-items:center;gap:6px;background:var(--tab);border:1px solid var(--border);color:#0f172a;border-radius:999px;padding:8px 12px;font-size:13px;white-space:nowrap}
    .tab.active{background:#1d4ed8;color:#fff;border-color:#1d4ed8}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-top:10px}
    .tile{background:#fff;border:1px solid var(--border);border-radius:14px;padding:12px;min-height:96px;display:flex;flex-direction:column;gap:8px;justify-content:center}
    .tile .icon{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700}
    .ic-blue{background:#e0f2fe;color:#0369a1}
    .ic-green{background:#dcfce7;color:#166534}
    .ic-orange{background:#ffedd5;color:#9a3412}
    .ic-purple{background:#ede9fe;color:#6d28d9}
    .ic-red{background:#fee2e2;color:#b91c1c}
    .ic-gray{background:#e5e7eb;color:#111827}
    .tile b{font-size:14px}
    .muted{color:var(--muted);font-size:12px}
    .headline{font-size:20px;font-weight:700;margin:10px 0 4px}
    .notif{display:flex;align-items:center;gap:10px}
    .notif .bell{width:32px;height:32px;border-radius:999px;background:#fee2e2;display:flex;align-items:center;justify-content:center;color:#b91c1c;font-weight:700}
    .btn{display:inline-block;background:#1d4ed8;color:#fff;border:0;border-radius:10px;padding:10px 14px;font-weight:600;text-decoration:none}
    .btn.ghost{background:transparent;border:1px solid var(--border);color:#0f172a}
    footer{margin:14px 0;color:var(--muted);font-size:12px}
    .bottomnav{position:sticky;bottom:0;background:#fff;border-top:1px solid var(--border);display:flex;justify-content:space-around;padding:10px 0}
    .dot{display:inline-block;width:8px;height:8px;border-radius:50%;background:#94a3b8;margin-right:6px}
    .ok{background:#16a34a}.warn{background:#f59e0b}.err{background:#ef4444}
    code{background:#0f172a10;padding:2px 4px;border-radius:4px}
  </style>
</head>
<body>
  <div class="container">
    <div class="row space">
      <div class="logo">
        <img src="assets/logo.png" alt="MedorCoin Logo" onerror="this.style.display='none'"/>
        <div class="brand">MedorCoin</div>
      </div>
    </div>

    <div class="searchbar">
      <span style="opacity:.6">üîé</span>
      <input id="q" placeholder="Search"/>
      <span class="pill">AI</span>
    </div>

    <div class="tabs">
      <a class="tab active" href="#"><span>üè†</span><span>HomePage</span></a>
      <a class="tab" href="#"><span>üçΩÔ∏è</span><span>Food</span></a>
      <a class="tab" href="#"><span>‚õèÔ∏è</span><span>Miners</span></a>
      <a class="tab" href="#"><span>üë©‚Äçüíª</span><span>Developers</span></a>
      <a class="tab" href="#"><span>üìà</span><span>Crypto Trading</span></a>
    </div>

    <div class="grid">
      <a class="tile" href="miners.html"><div class="icon ic-green">‚õèÔ∏è</div><b>Miners</b><span class="muted">Mining tools & stats</span></a>
      <a class="tile" href="developers.html"><div class="icon ic-purple">üë©‚Äçüíª</div><b>Developers</b><span class="muted">Docs, SDKs, APIs</span></a>
      <a class="tile" href="trading.html"><div class="icon ic-orange">üìä</div><b>Crypto Trading</b><span class="muted">Charts & orders</span></a>
      <a class="tile" href="dialogue.html"><div class="icon ic-blue">üí¨</div><b>Dialogue</b><span class="muted">Community & chat</span></a>
      <a class="tile" href="site/learners.html"><div class="icon ic-blue">üéì</div><b>Learn</b><span class="muted">Courses & certificates</span></a>
      <a class="tile" href="whales.html"><div class="icon ic-red">üêã</div><b>Crypto Whales</b><span class="muted">Large moves</span></a>
      <a class="tile" href="account.html"><div class="icon ic-gray">üë§</div><b>My Account</b><span class="muted">Profile & access</span></a>
      <a class="tile" href="listings.html"><div class="icon ic-purple">üÜï</div><b>New Listing</b><span class="muted">Fresh coins & tokens</span></a>
      <a class="tile" href="more.html"><div class="icon ic-gray">‚ûï</div><b>More</b><span class="muted">Explore features</span></a>
    </div>

    <div class="card" style="margin-top:12px;">
      <div class="notif">
        <div class="bell">üîî</div>
        <div>
          <b>View all notifications</b><br/>
          <span class="muted">You have new updates</span>
        </div>
      </div>
    </div>

    <div class="card" style="margin-top:12px;">
      <b>Blockchain's transactions</b>
      <div class="muted" style="margin-top:6px">Live verification, addresses, and tools.</div>
      <div class="row" style="margin-top:10px;gap:8px;flex-wrap:wrap">
        <a class="btn" href="site/learners.html">Open Learn</a>
        <a class="btn ghost" href="site/my-classroom.html">My Classroom</a>
        <span class="muted">EVM: <code>0x85708d61FEfcbb6eb13C72b0D42bCeB246F06dd0</code></span>
        <span class="muted">BTC: <code>bc1qlw9h0nnde9yewacdkfetcym96l24ucu5ld9atv</code></span>
      </div>
      <div class="row" style="gap:16px;margin-top:10px">
        <div><span id="apiDot" class="dot"></span><span class="muted">API</span> <span id="apiStatus" class="muted">Checking‚Ä¶</span></div>
        <div><span id="authDot" class="dot"></span><span class="muted">Auth</span> <span id="authStatus" class="muted">Checking‚Ä¶</span></div>
        <div><span id="payDot" class="dot"></span><span class="muted">Payments</span> <span id="payStatus" class="muted">Checking‚Ä¶</span></div>
      </div>
    </div>

    <footer>
      MedorCoin ¬© ¬∑ <a href="https://invi-dor.github.io/MedorCoin-Blockchain">Site root</a>
    </footer>
  </div>

  <nav class="bottomnav">
    <a href="#" class="muted">Video</a>
    <a href="#" class="muted">Message</a>
    <a href="#" class="muted">Account</a>
  </nav>

  <script>
    const SITE_ROOT = 'https://invi-dor.github.io/MedorCoin-Blockchain';
    window.__ENV = window.__ENV || {};
    window.__ENV.API_BASE = 'https://invi-dor.github.io/MedorCoin-Blockchain/'; // replace later with real API

    let AUTH_TOKEN = localStorage.getItem('mc_token') || null;
    function setDot(id, status){
      const el = document.getElementById(id);
      el.classList.remove('ok','warn','err');
      if(status==='ok') el.classList.add('ok');
      else if(status==='warn') el.classList.add('warn');
      else if(status==='err') el.classList.add('err');
    }
    function authHeaders(){ return AUTH_TOKEN ? { Authorization:'Bearer '+AUTH_TOKEN } : {}; }

    async function checkApi(){
      try{
        const r = await fetch(`${window.__ENV.API_BASE}/health`);
        if(r.ok){ setDot('apiDot','ok'); document.getElementById('apiStatus').textContent='Healthy'; }
        else{ setDot('apiDot','warn'); document.getElementById('apiStatus').textContent='Responding with errors'; }
      }catch{ setDot('apiDot','err'); document.getElementById('apiStatus').textContent='Unreachable'; }
    }
    async function checkAuth(){
      if(!AUTH_TOKEN){ document.getElementById('authStatus').textContent='Not logged in'; return; }
      try{
        const r = await fetch(`${window.__ENV.API_BASE}/api/me`, { headers:{ ...authHeaders() }});
        if(r.ok){ setDot('authDot','ok'); document.getElementById('authStatus').textContent='Authenticated'; }
        else if(r.status===401){ setDot('authDot','warn'); document.getElementById('authStatus').textContent='Unauthorized'; }
        else{ setDot('authDot','warn'); document.getElementById('authStatus').textContent='Error'; }
      }catch{ setDot('authDot','err'); document.getElementById('authStatus').textContent='Unreachable'; }
    }
    async function checkPayments(){
      try{
        const r = await fetch(`${window.__ENV.API_BASE}/api/payments/status`);
        if(r.ok){ const j = await r.json(); const ok = j?.evm?.ok||j?.btc?.ok; setDot('payDot', ok?'ok':'warn'); document.getElementById('payStatus').textContent = ok?'Verifiers online':'Partial/outage'; }
        else{ setDot('payDot','warn'); document.getElementById('payStatus').textContent='Status error'; }
      }catch{ setDot('payDot','err'); document.getElementById('payStatus').textContent='Unreachable'; }
    }
    (function init(){ checkApi(); checkAuth(); checkPayments(); })();
  </script>
</body>
</html>
